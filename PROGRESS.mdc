# Implementation Roadmap: Ticket Master

**Goal**: Mid-level â†’ Distributed Systems Engineer by **Jan 5th**
**Focus**: Backend first â†’ Angular later
**Progress**: Phase 1/7 Complete âœ… | DTOs & Validation Complete âœ… | Ready for Services | Backend First â†’ Angular Last

---

## Phase 1: Foundation âœ… COMPLETED

**Objective**: Build a "Safe" schema that rejects bad data before it enters the system.

### âœ… Completed

- [x] Project setup with NX monorepo
- [x] DatabaseModule with TypeORM + PostgreSQL
- [x] ConfigModule with Zod validation
- [x] Entity design (Assigned Seating model)
- [x] All Entities with Advanced Features (BaseEntity, Optimistic Locking, Bidirectional Relationships)
- [x] DTOs & Validation (Global ValidationPipe, PartialTypes)
- [x] Services & Business Logic (VenueService, SeatService)
- [x] Custom `@Transactional()` decorator with AsyncLocalStorage

### ðŸ“‹ Next - Remaining Services (CURRENT)

- [ ] **EventService** - CRUD + **pre-generate tickets on create**
- [ ] **TicketService** - Status transitions (AVAILABLE â†’ HELD â†’ SOLD)
- [ ] **BookingService** - Transaction logic (hold tickets + create booking)

---

## Architecture Decisions Log

| Date       | Decision               | Choice                                | Reason                                                                                         |
| :--------- | :--------------------- | :------------------------------------ | :--------------------------------------------------------------------------------------------- |
| 2025-12-22 | **Decorator Refactor** | Split `@Transactional()` into 3 files | Adhere to 200-line limit and SRP. Separates Types/Storage, Execution logic, and Decorator API. |
| 2025-12-22 | **Transaction Prop**   | AsyncLocalStorage                     | Allows seamless nested transactions without passing `EntityManager` manually to every method.  |
| 2025-12-22 | **Domain Split**       | `app/domains` folder                  | Clean separation of business logic (domains) from infrastructure (common, config, database).   |
| 2025-12-22 | **Concurrency**        | `@VersionColumn`                      | Uses optimistic locking on the Ticket entity to prevent race conditions during booking.        |
